# ==============================================
# ENVIRONMENT CONFIGURATION TEMPLATE
# ==============================================
# Copy this file to .env.local and fill in your values
# Command: cp .env.example .env.local

# ----------------------------------------------
# Backend API Configuration (Server-side only)
# ----------------------------------------------
# Backend API URL - used by Server Actions and API routes
# This is NOT exposed to the browser (no NEXT_PUBLIC_ prefix)
BACKEND_API_URL=http://localhost:8080
API_TIMEOUT=30000

# ----------------------------------------------
# WebSocket Configuration
# ----------------------------------------------
# Base URL for WebSocket connections (direct to backend API)
# Required when frontend and backend run on different ports without nginx proxy
# In production with nginx, leave empty (nginx proxies /api/v1/ws to backend)
# NEXT_PUBLIC_WS_BASE_URL=http://localhost:8080

# Mock data toggle (default: use real API)
# Set to 'false' to use mock data for development without backend
# NEXT_PUBLIC_USE_REAL_API=false

# ----------------------------------------------
# Authentication Provider
# ----------------------------------------------
# Auth provider type: "local" | "oidc" | "hybrid"
# - local: Built-in email/password authentication
# - oidc: Keycloak/OIDC only
# - hybrid: Both local and OIDC available
NEXT_PUBLIC_AUTH_PROVIDER=local

# Token storage cookie names
NEXT_PUBLIC_AUTH_COOKIE_NAME=auth_token
NEXT_PUBLIC_REFRESH_COOKIE_NAME=refresh_token
COOKIE_MAX_AGE=604800

# ----------------------------------------------
# Keycloak Authentication (OIDC provider)
# Only required if AUTH_PROVIDER is "oidc" or "hybrid"
# ----------------------------------------------
# NEXT_PUBLIC_KEYCLOAK_URL=http://localhost:8180
# NEXT_PUBLIC_KEYCLOAK_REALM=exploop
# NEXT_PUBLIC_KEYCLOAK_CLIENT_ID=ui
# KEYCLOAK_CLIENT_SECRET=your-client-secret
# NEXT_PUBLIC_KEYCLOAK_REDIRECT_URI=http://localhost:3000/auth/callback

# ----------------------------------------------
# Application
# ----------------------------------------------
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=Exploop
NEXT_PUBLIC_APP_DESCRIPTION=Continuous Threat Exposure Management Platform

# ----------------------------------------------
# Security
# ----------------------------------------------
# IMPORTANT: Set to true in production for HTTPS-only cookies
SECURE_COOKIES=false

# CRITICAL: Generate a random 32+ character secret for CSRF protection
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Or use: npm run generate-secret
CSRF_SECRET=CHANGE_ME_TO_RANDOM_32_PLUS_CHARS

# Token refresh settings
ENABLE_TOKEN_REFRESH=true
TOKEN_REFRESH_BEFORE_EXPIRY=300

# ----------------------------------------------
# Sentry Error Monitoring (Required for Production)
# ----------------------------------------------
# Get your DSN from: https://sentry.io/settings/projects/{project}/keys/
# Format: https://xxx@xxx.ingest.sentry.io/xxx
NEXT_PUBLIC_SENTRY_DSN=

# Optional: Set release version (defaults to package.json version)
# SENTRY_RELEASE=1.0.0

# Optional: Source maps upload for better error tracing
# SENTRY_AUTH_TOKEN=
# SENTRY_ORG=
# SENTRY_PROJECT=

# ----------------------------------------------
# Feature Flags
# ----------------------------------------------
# Enable dynamic sidebar badges (shows counts from API)
# Set to 'true' to enable. Disabled by default to reduce API calls on page load.
# Affected: Findings count, Credential Leaks count, Asset Groups count
NEXT_PUBLIC_ENABLE_SIDEBAR_BADGES=false

# ----------------------------------------------
# Optional: Third-party Services
# ----------------------------------------------
# NEXT_PUBLIC_GA_ID=
