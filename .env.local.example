# ==============================================
# ENVIRONMENT CONFIGURATION - LOCAL DEVELOPMENT
# ==============================================
# IMPORTANT: This file is ignored by git (.gitignore)
# DO NOT commit this file to version control

# ----------------------------------------------
# Backend API Configuration (Server-side only)
# ----------------------------------------------
# Backend API URL - used by Server Actions and API routes
# This is NOT exposed to the browser (no NEXT_PUBLIC_ prefix)
BACKEND_API_URL=http://host.docker.internal:8080
# Base URL for the frontend application (public)
NEXT_PUBLIC_APP_URL=http://exploop.dev:3000

# Mock data toggle (default: use real API)
# Uncomment to use mock data when developing without backend
# NEXT_PUBLIC_USE_REAL_API=false

# API timeout (milliseconds)
API_TIMEOUT=30000

# FrontEnd config
UI_PORT=80

# ----------------------------------------------
# Authentication Provider
# ----------------------------------------------
# Auth provider type: "local" | "oidc" | "hybrid"
# - local: Built-in email/password only
# - oidc: Keycloak only
# - hybrid: Both local and Keycloak available
NEXT_PUBLIC_AUTH_PROVIDER=local

# Token storage cookie names
NEXT_PUBLIC_AUTH_COOKIE_NAME=auth_token
NEXT_PUBLIC_REFRESH_COOKIE_NAME=refresh_token

# Cookie expiration in seconds (7 days = 604800)
COOKIE_MAX_AGE=604800

# ----------------------------------------------
# Keycloak Authentication (OIDC)
# Only needed if AUTH_PROVIDER is "oidc" or "hybrid"
# ----------------------------------------------
# NEXT_PUBLIC_KEYCLOAK_URL=http://localhost:8180
# NEXT_PUBLIC_KEYCLOAK_REALM=exploop
# NEXT_PUBLIC_KEYCLOAK_CLIENT_ID=ui
# KEYCLOAK_CLIENT_SECRET=your-client-secret
# NEXT_PUBLIC_KEYCLOAK_REDIRECT_URI=http://localhost:3000/auth/callback

# ----------------------------------------------
# OAuth (Social Login)
# Only needed if using Google/GitHub/Microsoft login
# ----------------------------------------------
# NEXT_PUBLIC_OAUTH_CALLBACK_URL=http://localhost:3000/auth/callback

# ----------------------------------------------
# Application
# ----------------------------------------------
# Node environment
NODE_ENV=development

# ----------------------------------------------
# Security
# ----------------------------------------------
# Enable HTTPS-only cookies in production
SECURE_COOKIES=false

# CSRF token secret (generate random string, min 32 chars)
# Generate with: openssl rand -base64 32
CSRF_SECRET=replace-with-random-secret-key-32-chars

# Enable token refresh
ENABLE_TOKEN_REFRESH=true

# Token refresh before expiry (seconds)
TOKEN_REFRESH_BEFORE_EXPIRY=300

# ----------------------------------------------
# Optional: Third-party Services
# ----------------------------------------------
# Error tracking (e.g., Sentry)
# NEXT_PUBLIC_SENTRY_DSN=

# Analytics
# NEXT_PUBLIC_GA_ID=

# Feature flags
# NEXT_PUBLIC_FEATURE_FLAG_XYZ=true
