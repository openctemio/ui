# ==============================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ==============================================
# IMPORTANT: Copy this file to .env.production.local
# CRITICAL: Never commit actual secrets to version control!

# ----------------------------------------------
# Backend API Configuration (Server-side only)
# ----------------------------------------------
# Backend API URL - used by Server Actions and API routes
# This is NOT exposed to the browser (no NEXT_PUBLIC_ prefix)
BACKEND_API_URL=https://api.your-domain.com
NEXT_PUBLIC_USE_REAL_API=true
API_TIMEOUT=30000

# ----------------------------------------------
# Authentication Provider
# ----------------------------------------------
# Auth provider type: "local" | "oidc" | "hybrid"
NEXT_PUBLIC_AUTH_PROVIDER=local

# Token storage cookie names
NEXT_PUBLIC_AUTH_COOKIE_NAME=auth_token
NEXT_PUBLIC_REFRESH_COOKIE_NAME=refresh_token
COOKIE_MAX_AGE=604800
NEXT_PUBLIC_ENABLE_SIDEBAR_BADGES=false

# ----------------------------------------------
# Keycloak Authentication (OIDC)
# Only needed if AUTH_PROVIDER is "oidc" or "hybrid"
# ----------------------------------------------
#NEXT_PUBLIC_KEYCLOAK_URL=https://auth.your-domain.com
#NEXT_PUBLIC_KEYCLOAK_REALM=exploop
#NEXT_PUBLIC_KEYCLOAK_CLIENT_ID=ui
#KEYCLOAK_CLIENT_SECRET=your-production-client-secret
#NEXT_PUBLIC_KEYCLOAK_REDIRECT_URI=https://your-domain.com/auth/callback

# ----------------------------------------------
# Application
# ----------------------------------------------
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://your-domain.com

# ----------------------------------------------
# Security (CRITICAL for production!)
# ----------------------------------------------
# MUST be true in production for HTTPS-only cookies
SECURE_COOKIES=true

# CRITICAL: Generate a secure random secret (min 32 chars)
# Generate with: openssl rand -base64 32
CSRF_SECRET=GENERATE_SECURE_RANDOM_SECRET_HERE

# Token refresh settings
ENABLE_TOKEN_REFRESH=true
TOKEN_REFRESH_BEFORE_EXPIRY=300

# ----------------------------------------------
# Sentry Error Monitoring (Recommended)
# ----------------------------------------------
# Get your DSN from: https://sentry.io/settings/projects/{project}/keys/
NEXT_PUBLIC_SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# Source maps upload for better error tracing
SENTRY_AUTH_TOKEN=your-sentry-auth-token
SENTRY_ORG=your-org
SENTRY_PROJECT=ui

# ----------------------------------------------
# Optional: Analytics & Feature Flags
# ----------------------------------------------
#NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX
#NEXT_PUBLIC_FEATURE_FLAG_XYZ=true
